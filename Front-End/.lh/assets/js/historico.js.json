{
    "sourceFile": "assets/js/historico.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 22,
            "patches": [
                {
                    "date": 1716495434181,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1717010712604,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,58 +1,68 @@\n-function carregarDadosDasPecas() {\r\n-  fetch(\"http://localhost:8080/pecas\")\r\n-      .then((response) => {\r\n-          if (!response.ok) {\r\n-              throw new Error(\"Network response was not ok \" + response.statusText);\r\n-          }\r\n-          return response.json();\r\n-      })\r\n-      .then((data) => {\r\n-          const dataTableBody = document.getElementById(\"data-table\").getElementsByTagName(\"tbody\")[0];\r\n+function carregarDadosDasPecasCompleto() {\r\n+    fetch(\"http://localhost:8080/pecas\")\r\n+        .then((response) => {\r\n+            if (!response.ok) {\r\n+                throw new Error(\"Network response was not ok \" + response.statusText);\r\n+            }\r\n+            return response.json();\r\n+        })\r\n+        .then((data) => {\r\n+            const accordionContainer = document.getElementById(\"accordionExample\");\r\n+  \r\n+            // Limpar accordion antes de adicionar novos dados\r\n+            accordionContainer.innerHTML = \"\";\r\n+  \r\n+            // Adicionar todas as peças\r\n+            data.forEach((peca, index) => {\r\n+                // Formatar a data de criação para uma representação legível\r\n+                const dataDeCriacao = new Date(peca.dataDeCriacao).toLocaleDateString();\r\n+  \r\n+                // Contar o número de sub-peças\r\n+                const quantidadeSubPecas = peca.subPecas ? peca.subPecas.length : 0;\r\n+  \r\n+                // Obter o nome da máquina\r\n+                const nomeDaMaquina = peca.maquina.map((maquina) => maquina.nome).join(', ');\r\n+  \r\n+                // Obter o nome do material\r\n+                const nomeDoMaterial = peca.material.nome;\r\n+  \r\n+                const responsavel = peca.maosDeObra.map((maosDeObra) => maosDeObra.profissional).join(', ');\r\n+  \r\n+                const accordionItem = `\r\n+                    <div class=\"accordion-item\">\r\n+                        <h2 class=\"accordion-header\" id=\"heading${index}\">\r\n+                            <button class=\"accordion-button ${index === 0 ? '' : 'collapsed'}\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapse${index}\" aria-expanded=\"${index === 0}\" aria-controls=\"collapse${index}\">\r\n+                                ${peca.nomeDaPeca}\r\n+                            </button>\r\n+                        </h2>\r\n+                        <div id=\"collapse${index}\" class=\"accordion-collapse collapse ${index === 0 ? 'show' : ''}\" aria-labelledby=\"heading${index}\" data-bs-parent=\"#accordionExample\">\r\n+                            <div class=\"accordion-body\">\r\n+                                <p><strong>Código:</strong> ${peca.codigo}</p>\r\n+                                <p><strong>Volume Total:</strong> ${peca.volumeTotal}mm&#x00B3</p>\r\n+                                <p><strong>Preço:</strong> R$${peca.custoDeProducao}</p>\r\n+                                <p><strong>Data de Criação:</strong> ${dataDeCriacao}</p>\r\n+                                <p><strong>Quantidade de Sub-Peças:</strong> ${quantidadeSubPecas}</p>\r\n+                                <p><strong>Material:</strong> ${nomeDoMaterial}</p>\r\n+                                <p><strong>Responsável:</strong> ${responsavel}</p>\r\n+                                <button type=\"button\" class=\"btn btn-primary\" onclick=\"handleButtonClick('${peca.id}')\">Peça completa</button>\r\n+                            </div>\r\n\\ No newline at end of file\n+                        </div>\r\n+                    </div>\r\n+                `;\r\n+                accordionContainer.innerHTML += accordionItem;\r\n+            });\r\n+        })\r\n+        .catch((error) => console.error(\"Erro ao buscar dados das peças:\", error));\r\n+}\r\n \r\n-          // Limpar tabela antes de adicionar novos dados\r\n-          dataTableBody.innerHTML = \"\";\r\n \r\n-          // Adicionar todas as peças\r\n-          data.forEach((peca) => {\r\n-              // Formatar a data de criação para uma representação legível\r\n-              const dataDeCriacao = new Date(peca.dataDeCriacao).toLocaleDateString();\r\n-\r\n-              // Contar o número de sub-peças\r\n-              const quantidadeSubPecas = peca.subPecas ? peca.subPecas.length : 0;\r\n-\r\n-              // Obter o nome da máquina\r\n-              const nomeDaMaquina = peca.maquina.map((maquina) => maquina.nome).join(', ');\r\n-\r\n-              // Obter o nome do material\r\n-              const nomeDoMaterial = peca.material.nome;\r\n-\r\n-              const responsavel = peca.maosDeObra.map((maosDeObra) => maosDeObra.profissional).join(', ');\r\n-\r\n-              const mainRow = `\r\n-                  <tr>\r\n-                      <td>${peca.id}</td>\r\n-                      <td>${peca.codigo}</td>\r\n-                      <td>${peca.nomeDaPeca}</td>\r\n-                      <td>${peca.volumeTotal}mm&#x00B3</td>\r\n-                      <td>R$${peca.custoDeProducao}</td>\r\n-                      <td>${peca.tempoDeUsinagem}h</td>\r\n-                      <td>${peca.pesoTarugo}Kg</td>\r\n-                      <td>${peca.quantidadeDeCavaco}</td>\r\n-                      <td>R$${peca.valorDoCavaco}</td>\r\n-                      <td>${dataDeCriacao}</td> \r\n-                      <td>${quantidadeSubPecas}</td> \r\n-                      <td>${responsavel}</td>\r\n-                      <td>${nomeDaMaquina}</td>\r\n-                      <td>${nomeDoMaterial}</td>\r\n-                  </tr>\r\n-              `;\r\n-              dataTableBody.innerHTML += mainRow;\r\n-          });\r\n-      })\r\n-      .catch((error) => console.error(\"Erro ao buscar dados das peças:\", error));\r\n+// Função que será chamada quando o botão for clicado\r\n+function handleButtonClick(codigoPeca) {\r\n+    alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n+    window.location.href = 'relatorio.html?';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n-  carregarDadosDasPecas();\r\n-};\n+    carregarDadosDasPecasCompleto();\r\n+};\r\n"
                },
                {
                    "date": 1717010717807,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,11 +58,11 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?';\r\n+    window.location.href = 'relatorio.html?10';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n\\ No newline at end of file\n-};\n+};\r\n"
                },
                {
                    "date": 1717010843908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,11 +58,11 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?10';\r\n+    window.location.href = 'relatorio.html';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n\\ No newline at end of file\n-};\n+};\r\n"
                },
                {
                    "date": 1717010849427,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,11 +58,11 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html';\r\n+    window.location.href = 'relatorio.html?';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n\\ No newline at end of file\n-};\n+};\r\n"
                },
                {
                    "date": 1717010854682,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,11 +58,11 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?';\r\n+    window.location.href = 'relatorio.html?Peça';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n\\ No newline at end of file\n-};\n+};\r\n"
                },
                {
                    "date": 1717010861032,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,11 +58,11 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?Peça';\r\n+    window.location.href = 'relatorio.html?Peca';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n\\ No newline at end of file\n-};\n+};\r\n"
                },
                {
                    "date": 1717010867711,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,11 +58,11 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?Peca';\r\n+    window.location.href = 'relatorio.html?idPeca=(';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n\\ No newline at end of file\n-};\n+};\r\n"
                },
                {
                    "date": 1717010872845,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,11 +58,11 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?idPeca=(';\r\n+    window.location.href = 'relatorio.html?idPeca=(\"id\")';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n\\ No newline at end of file\n-};\n+};\r\n"
                },
                {
                    "date": 1717010878250,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,11 +58,11 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?idPeca=(\"id\")';\r\n+    window.location.href = 'relatorio.html?idPeca=(\"idPeca\")';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n\\ No newline at end of file\n-};\n+};\r\n"
                },
                {
                    "date": 1717010908289,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,11 +58,11 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?idPeca=(\"idPeca\")';\r\n+    window.location.href = 'relatorio.html?idPeca=(\"idPeca';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n\\ No newline at end of file\n-};\n+};\r\n"
                },
                {
                    "date": 1717010913593,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,11 +58,11 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?idPeca=(\"idPeca';\r\n+    window.location.href = 'relatorio.html?idPeca=${idPeca';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n\\ No newline at end of file\n-};\n+};\r\n"
                },
                {
                    "date": 1717010941065,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,11 +58,11 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?idPeca=${idPeca';\r\n+    window.location.href = 'relatorio.html?idPeca=${.idPeca}';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n\\ No newline at end of file\n-};\n+};\r\n"
                },
                {
                    "date": 1717010949099,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,11 +58,11 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?idPeca=${.idPeca}';\r\n+    window.location.href = 'relatorio.html?idPeca=${peca.idPeca}';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n\\ No newline at end of file\n-};\n+};\r\n"
                },
                {
                    "date": 1717010957878,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,11 +58,11 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?idPeca=${peca.idPeca}';\r\n+    window.location.href = 'relatorio.html';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n\\ No newline at end of file\n-};\n+};\r\n"
                },
                {
                    "date": 1717011029953,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,14 +55,14 @@\n         .catch((error) => console.error(\"Erro ao buscar dados das peças:\", error));\r\n }\r\n \r\n \r\n-// Função que será chamada quando o botão for clicado\r\n-function handleButtonClick(codigoPeca) {\r\n+// Função que será chamada quando o botão for clicadofunction handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html';\r\n+    window.location.href = 'relatorio.html?codigoPeca=' + encodeURIComponent(codigoPeca);\r\n }\r\n \r\n+\r\n // Função que será executada quando a página for carregada\r\n\\ No newline at end of file\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n-};\n+};\r\n"
                },
                {
                    "date": 1717011042782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,14 +55,14 @@\n         .catch((error) => console.error(\"Erro ao buscar dados das peças:\", error));\r\n }\r\n \r\n \r\n-// Função que será chamada quando o botão for clicadofunction handleButtonClick(codigoPeca) {\r\n+// Função que será chamada quando o botão for clicado\r\n+function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?codigoPeca=' + encodeURIComponent(codigoPeca);\r\n+    window.location.href = 'relatorio.html';\r\n }\r\n \r\n-\r\n // Função que será executada quando a página for carregada\r\n\\ No newline at end of file\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n-};\n+};\r\n"
                },
                {
                    "date": 1717011059279,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,11 +58,12 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n+    \r\n     window.location.href = 'relatorio.html';\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n\\ No newline at end of file\n-};\n+};\r\n"
                },
                {
                    "date": 1717011075207,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,12 +58,12 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    \r\n-    window.location.href = 'relatorio.html';\r\n+    alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n+    window.location.href = 'relatorio.html?codigoPeca=' + encodeURIComponent(codigoPeca);\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n\\ No newline at end of file\n     carregarDadosDasPecasCompleto();\r\n-};\n+};\r\n"
                },
                {
                    "date": 1717011082037,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,12 +58,11 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n     window.location.href = 'relatorio.html?codigoPeca=' + encodeURIComponent(codigoPeca);\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n     carregarDadosDasPecasCompleto();\r\n-};\n\\ No newline at end of file\n+};\r\n"
                },
                {
                    "date": 1717011143733,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,9 +58,9 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?codigoPeca=' + encodeURIComponent(codigoPeca);\r\n+    window.location.href = 'relatorio.html?idPeca=1=' + encodeURIComponent(codigoPeca);\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n"
                },
                {
                    "date": 1717011154212,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -58,9 +58,9 @@\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n     alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n-    window.location.href = 'relatorio.html?idPeca=1=' + encodeURIComponent(codigoPeca);\r\n+    window.location.href = 'relatorio.html?idPeca=' + encodeURIComponent(codigoPeca);\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n window.onload = function () {\r\n"
                },
                {
                    "date": 1717011187358,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -57,9 +57,8 @@\n \r\n \r\n // Função que será chamada quando o botão for clicado\r\n function handleButtonClick(codigoPeca) {\r\n-    alert(\"Botão clicado para a peça com código: \" + codigoPeca);\r\n     window.location.href = 'relatorio.html?idPeca=' + encodeURIComponent(codigoPeca);\r\n }\r\n \r\n // Função que será executada quando a página for carregada\r\n"
                }
            ],
            "date": 1716495434181,
            "name": "Commit-0",
            "content": "function carregarDadosDasPecas() {\r\n  fetch(\"http://localhost:8080/pecas\")\r\n      .then((response) => {\r\n          if (!response.ok) {\r\n              throw new Error(\"Network response was not ok \" + response.statusText);\r\n          }\r\n          return response.json();\r\n      })\r\n      .then((data) => {\r\n          const dataTableBody = document.getElementById(\"data-table\").getElementsByTagName(\"tbody\")[0];\r\n\r\n          // Limpar tabela antes de adicionar novos dados\r\n          dataTableBody.innerHTML = \"\";\r\n\r\n          // Adicionar todas as peças\r\n          data.forEach((peca) => {\r\n              // Formatar a data de criação para uma representação legível\r\n              const dataDeCriacao = new Date(peca.dataDeCriacao).toLocaleDateString();\r\n\r\n              // Contar o número de sub-peças\r\n              const quantidadeSubPecas = peca.subPecas ? peca.subPecas.length : 0;\r\n\r\n              // Obter o nome da máquina\r\n              const nomeDaMaquina = peca.maquina.map((maquina) => maquina.nome).join(', ');\r\n\r\n              // Obter o nome do material\r\n              const nomeDoMaterial = peca.material.nome;\r\n\r\n              const responsavel = peca.maosDeObra.map((maosDeObra) => maosDeObra.profissional).join(', ');\r\n\r\n              const mainRow = `\r\n                  <tr>\r\n                      <td>${peca.id}</td>\r\n                      <td>${peca.codigo}</td>\r\n                      <td>${peca.nomeDaPeca}</td>\r\n                      <td>${peca.volumeTotal}mm&#x00B3</td>\r\n                      <td>R$${peca.custoDeProducao}</td>\r\n                      <td>${peca.tempoDeUsinagem}h</td>\r\n                      <td>${peca.pesoTarugo}Kg</td>\r\n                      <td>${peca.quantidadeDeCavaco}</td>\r\n                      <td>R$${peca.valorDoCavaco}</td>\r\n                      <td>${dataDeCriacao}</td> \r\n                      <td>${quantidadeSubPecas}</td> \r\n                      <td>${responsavel}</td>\r\n                      <td>${nomeDaMaquina}</td>\r\n                      <td>${nomeDoMaterial}</td>\r\n                  </tr>\r\n              `;\r\n              dataTableBody.innerHTML += mainRow;\r\n          });\r\n      })\r\n      .catch((error) => console.error(\"Erro ao buscar dados das peças:\", error));\r\n}\r\n\r\n// Função que será executada quando a página for carregada\r\nwindow.onload = function () {\r\n  carregarDadosDasPecas();\r\n};"
        }
    ]
}