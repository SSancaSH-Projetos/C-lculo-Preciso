{
    "sourceFile": "assets/js/login.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1716491592043,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1716491603046,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n document.getElementById('login-form').addEventListener('submit', function(event) {\r\n   event.preventDefault(); // Prevenir o comportamento padrão de envio do formulário\r\n \r\n+  const usuario = document.getElementById('usuario').value;\r\n   const email = document.getElementById('email').value;\r\n-  const email = document.getElementById('email').value;\r\n   const senha = document.getElementById('senha').value;\r\n \r\n   const dadosLogin = {\r\n       email: email,\r\n"
                },
                {
                    "date": 1716491636336,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n document.getElementById('login-form').addEventListener('submit', function(event) {\r\n   event.preventDefault(); // Prevenir o comportamento padrão de envio do formulário\r\n \r\n-  const usuario = document.getElementById('usuario').value;\r\n+  const usuario = document.getElementById('email').value;\r\n   const email = document.getElementById('email').value;\r\n   const senha = document.getElementById('senha').value;\r\n \r\n   const dadosLogin = {\r\n"
                },
                {
                    "date": 1716491642513,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,8 +5,9 @@\n   const email = document.getElementById('email').value;\r\n   const senha = document.getElementById('senha').value;\r\n \r\n   const dadosLogin = {\r\n+    \r\n       email: email,\r\n       senha: senha\r\n   };\r\n \r\n"
                },
                {
                    "date": 1716491648279,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n   const email = document.getElementById('email').value;\r\n   const senha = document.getElementById('senha').value;\r\n \r\n   const dadosLogin = {\r\n-    \r\n+    usuario\r\n       email: email,\r\n       senha: senha\r\n   };\r\n \r\n"
                },
                {
                    "date": 1716491654851,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,9 @@\n   const email = document.getElementById('email').value;\r\n   const senha = document.getElementById('senha').value;\r\n \r\n   const dadosLogin = {\r\n-    usuario\r\n+    usuario:usuario\r\n       email: email,\r\n       senha: senha\r\n   };\r\n \r\n"
                },
                {
                    "date": 1716491841586,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,8 @@\n   const email = document.getElementById('email').value;\r\n   const senha = document.getElementById('senha').value;\r\n \r\n   const dadosLogin = {\r\n-    usuario:usuario\r\n       email: email,\r\n       senha: senha\r\n   };\r\n \r\n"
                },
                {
                    "date": 1716491847697,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,7 @@\n document.getElementById('login-form').addEventListener('submit', function(event) {\r\n   event.preventDefault(); // Prevenir o comportamento padrão de envio do formulário\r\n \r\n-  const usuario = document.getElementById('email').value;\r\n   const email = document.getElementById('email').value;\r\n   const senha = document.getElementById('senha').value;\r\n \r\n   const dadosLogin = {\r\n"
                }
            ],
            "date": 1716491592043,
            "name": "Commit-0",
            "content": "document.getElementById('login-form').addEventListener('submit', function(event) {\r\n  event.preventDefault(); // Prevenir o comportamento padrão de envio do formulário\r\n\r\n  const email = document.getElementById('email').value;\r\n  const email = document.getElementById('email').value;\r\n  const senha = document.getElementById('senha').value;\r\n\r\n  const dadosLogin = {\r\n      email: email,\r\n      senha: senha\r\n  };\r\n\r\n  fetch('http://localhost:8080/usuarios/login', { // Endpoint de login\r\n      method: 'POST',\r\n      headers: {\r\n          'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(dadosLogin)\r\n  })\r\n  .then(response => {\r\n      if (!response.ok) {\r\n          throw new Error('Credenciais incorretas');\r\n      }\r\n      return response.json();\r\n  })\r\n  .then(data => {\r\n      console.log('Login realizado com sucesso:', data);\r\n      document.cookie = `email=${email}`;\r\n      window.location.href = 'dashboard.html';\r\n  })\r\n  .catch(error => {\r\n      console.error('Erro ao realizar o login:', error);\r\n      // Mostrar um modal com a mensagem de erro\r\n      const modal = document.getElementById('modal');\r\n      modal.style.display = 'block';\r\n      const modalContent = document.getElementById('modal-content');\r\n      modalContent.innerText = error.message;\r\n    \r\n      // Adicionar evento de clique ao botão \"Fechar\" do modal\r\n      const fecharModalBtn = document.getElementById('fechar-modal');\r\n      fecharModalBtn.addEventListener('click', function() {\r\n        modal.style.display = 'none'; // Ocultar o modal\r\n      });\r\n  });\r\n});\r\n"
        }
    ]
}